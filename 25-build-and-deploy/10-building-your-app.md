# Создание вашего приложения
---

Сборка приложения SvelteKit происходит в два этапа, которые оба происходят, когда вы запускаете `vite build` (обычно через `npm run build`).

Сначала Vite создает оптимизированную продуктовую сборку кода вашего сервера, кода браузера и рабочего сервиса (если он у вас есть). На этом этапе выполняется [пререндер](/20-core-concepts/40-page-options?id=пререндер), если это необходимо.

Затем, _адаптер_ берет эту продуктовую сборку и настраивает ее для вашей целевой среды - подробнее об этом на следующих страницах.

## Во время сборки

SvelteKit загрузит ваши файлы `+page/layout(.server).js` (и все файлы, которые они импортируют) для анализа во время сборки. Любой код, который _не_ должен выполняться на этом этапе, должен проверить, что `building` из [`$app/environment`](/50-reference/30-modules?id=appenvironment) равно `false`:

```diff
+import { building } from '$app/environment';
import { setupMyDatabase } from '$lib/server/database';

+if (!building) {
	setupMyDatabase();
+}

export function load() {
	// ...
}
```

## Предпросмотр вашего приложения

После сборки вы можете просмотреть вашу сборку локально с помощью `vite preview` (через `npm run preview`). Обратите внимание, что при этом приложение будет запущено в Node, и поэтому не является идеальной копией вашего развернутого приложения - специфические для адаптера настройки, такие как [объект `platform`](/25-build-and-deploy/20-adapters?id=Платформо-специфичный-контекст), не применяются к предварительным версиям.